{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx","path":"/note/javascript-design-patterns-and-development-practices/iterator","result":{"data":{"page":{"__typename":"MdxPage","title":"迭代器模式","slug":"/note/javascript-design-patterns-and-development-practices/iterator","excerpt":"迭代器模式是指提供一种方法顺序访问一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示。 迭代器模式可以把迭代的过程从业务逻辑中分离出来，在使用迭代器模式之后，即使不关心对象的内部构造，也可以按顺序访问其中的每个元素。 内部迭代器 forEach, map, reduce…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"迭代器模式\",\n  \"slug\": \"/note/javascript-design-patterns-and-development-practices/iterator\",\n  \"date\": \"2019-07-05T00:00:00.000Z\",\n  \"description\": \"《JavaScript 设计模式与开发实践》读书笔记\",\n  \"tags\": [\"Note\", \"JavaScript Design Patterns and Development Practices\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u8FED\\u4EE3\\u5668\\u6A21\\u5F0F\\u662F\\u6307\\u63D0\\u4F9B\\u4E00\\u79CD\\u65B9\\u6CD5\\u987A\\u5E8F\\u8BBF\\u95EE\\u4E00\\u4E2A\\u805A\\u5408\\u5BF9\\u8C61\\u4E2D\\u7684\\u5404\\u4E2A\\u5143\\u7D20\\uFF0C\\u800C\\u53C8\\u4E0D\\u9700\\u8981\\u66B4\\u9732\\u8BE5\\u5BF9\\u8C61\\u7684\\u5185\\u90E8\\u8868\\u793A\\u3002\"), mdx(\"p\", null, \"\\u8FED\\u4EE3\\u5668\\u6A21\\u5F0F\\u53EF\\u4EE5\\u628A\\u8FED\\u4EE3\\u7684\\u8FC7\\u7A0B\\u4ECE\\u4E1A\\u52A1\\u903B\\u8F91\\u4E2D\\u5206\\u79BB\\u51FA\\u6765\\uFF0C\\u5728\\u4F7F\\u7528\\u8FED\\u4EE3\\u5668\\u6A21\\u5F0F\\u4E4B\\u540E\\uFF0C\\u5373\\u4F7F\\u4E0D\\u5173\\u5FC3\\u5BF9\\u8C61\\u7684\\u5185\\u90E8\\u6784\\u9020\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u6309\\u987A\\u5E8F\\u8BBF\\u95EE\\u5176\\u4E2D\\u7684\\u6BCF\\u4E2A\\u5143\\u7D20\\u3002\"), mdx(\"h2\", {\n    \"id\": \"内部迭代器\"\n  }, \"\\u5185\\u90E8\\u8FED\\u4EE3\\u5668\"), mdx(\"p\", null, \"forEach, map, reduce...\"), mdx(\"h2\", {\n    \"id\": \"外部迭代器\"\n  }, \"\\u5916\\u90E8\\u8FED\\u4EE3\\u5668\"), mdx(\"p\", null, \"\\u5FC5\\u987B\\u663E\\u5F0F\\u5730\\u8BF7\\u6C42\\u8FED\\u4EE3\\u4E0B\\u4E00\\u4E2A\\u5143\\u7D20\"), mdx(\"p\", null, \"\\u589E\\u52A0\\u4E86\\u8C03\\u7528\\u7684\\u590D\\u6742\\u5EA6\\uFF0C\\u4F46\\u4E5F\\u589E\\u5F3A\\u4E86\\u7075\\u6D3B\\u6027\\uFF0C\\u53EF\\u4EE5\\u624B\\u52A8\\u63A7\\u5236\\u8FED\\u4EE3\\u5730\\u8FC7\\u7A0B\\u6216\\u987A\\u5E8F\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const Iterator = function (array) {\\n  const current = 0\\n\\n  const next = function () {\\n    current += 1\\n  }\\n\\n  const isDone = function () {\\n    return current >= array.length\\n  }\\n\\n  const getCurrentItem = function () {\\n    return array[current]\\n  }\\n\\n  return {\\n    next,\\n    isDone,\\n    getCurrentItem,\\n  }\\n}\\n\")), mdx(\"p\", null, \"\\u4E24\\u4E2A\\u6570\\u7EC4\\u7684 compare\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const compare = function (iterator1, iterator2) {\\n  while (!iterator1.isDone() && !iterator2.isDone()) {\\n    if (iterator1.getCurrentItem() !== iterator2.getCurrentItem()) {\\n      throw new Error('iterator1 \\u548C iterator2 \\u4E0D\\u76F8\\u7B49')\\n    }\\n    iterator1.next()\\n    iterator2.next()\\n  }\\n\\n  console.log('iterator1 \\u548C iterator2 \\u76F8\\u7B49')\\n}\\n\")), mdx(\"p\", null, \"\\u7B80\\u5316\\u6210 ES6 \\u5E38\\u89C1\\u7684\\u6A21\\u62DF\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const makeIterator = function (array) {\\n  let index = 0\\n  return {\\n    next() {\\n      return index < array.length\\n        ? { value: array[index++], done: false }\\n        : { value: undefined, done: true }\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"\\u7531\\u4E0A\\u9762 Iterator \\u4EE3\\u7801\\u53EF\\u4EE5\\u770B\\u51FA\\u4E00\\u4E2A\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u751F\\u6210\\u5668\\u751F\\u6210\\u4E00\\u4E2A\\u8FED\\u4EE3\\u5668\\u5BF9\\u8C61\"), \"\\uFF0C\\u8FED\\u4EE3\\u5668\\u7684 next \\u65B9\\u6CD5\\u8FDB\\u884C\\u8FED\\u4EE3\\uFF08\\u6D41\\u7A0B\\u63A7\\u5236\\uFF09\\uFF0Cnext \\u8FD4\\u56DE value \\u548C done\"), mdx(\"h2\", {\n    \"id\": \"es6-迭代器\"\n  }, \"ES6 \\u8FED\\u4EE3\\u5668\"), mdx(\"p\", null, \"ES6 \\u4E2D\\u7684 Iterator \\u7684\\u4F5C\\u7528\\u6709\\u4E09\\u4E2A\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u4E3A\\u5404\\u79CD\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u63D0\\u4F9B\\u4E00\\u4E2A\\u7EDF\\u4E00\\u7684\\u3001\\u7B80\\u4FBF\\u7684\\u8BBF\\u95EE\\u63A5\\u53E3\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u4F7F\\u5F97\\u6570\\u636E\\u7ED3\\u6784\\u7684\\u6210\\u5458\\u80FD\\u591F\\u6309\\u67D0\\u79CD\\u6B21\\u5E8F\\u6392\\u5217\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ES6 \\u521B\\u9020\\u4E86\\u4E00\\u79CD\\u65B0\\u7684\\u904D\\u5386\\u547D\\u4EE4for...of\\u5FAA\\u73AF\\uFF0CIterator \\u63A5\\u53E3\\u4E3B\\u8981\\u4F9Bfor...of\\u6D88\\u8D39\\u3002\"))), mdx(\"p\", null, \"ES6 \\u89C4\\u5B9A\\uFF0C\\u9ED8\\u8BA4\\u7684 Iterator \\u63A5\\u53E3\\u90E8\\u7F72\\u5728\\u6570\\u636E\\u7ED3\\u6784\\u7684Symbol.iterator\\u5C5E\\u6027\\uFF0C\\u6216\\u8005\\u8BF4\\uFF0C\\u4E00\\u4E2A\\u6570\\u636E\\u7ED3\\u6784\\u53EA\\u8981\\u5177\\u6709Symbol.iterator\\u5C5E\\u6027\\uFF0C\\u5C31\\u53EF\\u4EE5\\u8BA4\\u4E3A\\u662F\\u201C\\u53EF\\u904D\\u5386\\u7684\\u201D\\uFF08iterable\\uFF09\\u3002Symbol.iterator\\u5C5E\\u6027\\u672C\\u8EAB\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5C31\\u662F\\u5F53\\u524D\\u6570\\u636E\\u7ED3\\u6784\\u9ED8\\u8BA4\\u7684\\u904D\\u5386\\u5668\\u751F\\u6210\\u51FD\\u6570\\u3002\\u6267\\u884C\\u8FD9\\u4E2A\\u51FD\\u6570\\uFF0C\\u5C31\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A\\u904D\\u5386\\u5668\\u3002\"), mdx(\"p\", null, \"ES6 \\u7684\\u6709\\u4E9B\\u6570\\u636E\\u7ED3\\u6784\\u539F\\u751F\\u5177\\u5907 Iterator \\u63A5\\u53E3\\uFF08\\u6BD4\\u5982\\u6570\\u7EC4\\uFF09\\uFF0C\\u5373\\u4E0D\\u7528\\u4EFB\\u4F55\\u5904\\u7406\\uFF0C\\u5C31\\u53EF\\u4EE5\\u88ABfor...of\\u5FAA\\u73AF\\u904D\\u5386\\u3002\\u539F\\u56E0\\u5728\\u4E8E\\uFF0C\\u8FD9\\u4E9B\\u6570\\u636E\\u7ED3\\u6784\\u539F\\u751F\\u90E8\\u7F72\\u4E86Symbol.iterator\\u5C5E\\u6027\\uFF08\\u8BE6\\u89C1\\u4E0B\\u6587\\uFF09\\uFF0C\\u53E6\\u5916\\u4E00\\u4E9B\\u6570\\u636E\\u7ED3\\u6784\\u6CA1\\u6709\\uFF08\\u6BD4\\u5982\\u5BF9\\u8C61\\uFF09\\u3002\\u51E1\\u662F\\u90E8\\u7F72\\u4E86Symbol.iterator\\u5C5E\\u6027\\u7684\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u5C31\\u79F0\\u4E3A\\u90E8\\u7F72\\u4E86\\u904D\\u5386\\u5668\\u63A5\\u53E3\\u3002\\u8C03\\u7528\\u8FD9\\u4E2A\\u63A5\\u53E3\\uFF0C\\u5C31\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A\\u904D\\u5386\\u5668\\u5BF9\\u8C61\\u3002\"), mdx(\"p\", null, \"\\u539F\\u751F\\u5177\\u5907 Iterator \\u63A5\\u53E3\\u7684\\u6570\\u636E\\u7ED3\\u6784\\u5982\\u4E0B\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Array\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Map\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Set\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"String\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"TypedArray\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u51FD\\u6570\\u7684 arguments \\u5BF9\\u8C61\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"NodeList \\u5BF9\\u8C61\"))), mdx(\"h3\", {\n    \"id\": \"对象实现-for-of\"\n  }, \"\\u5BF9\\u8C61\\u5B9E\\u73B0 for-of\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const iterableObj = {\\n  name: 'ahab',\\n  age: 18,\\n  key: 'value',\\n  [Symbol.iterator]() {\\n    let index = 0\\n    const that = this // \\u7F13\\u5B58 this\\n    const keys = Object.keys(that)\\n    return {\\n      next() { // \\u4E5F\\u53EF\\u4EE5\\u7528\\u7BAD\\u5934\\u51FD\\u6570\\uFF0C\\u4F46\\u8FD9\\u79CD\\u60C5\\u51B5\\u4E0B that \\u66F4\\u5E38\\u89C1\\n        return { value: that[keys[index++]], done: index > keys.length }\\n      }\\n    }\\n  },\\n}\\n\\nfor (const value of iterableObj) { console.log(value) }\\n\")), mdx(\"p\", null, \"\\u7528 generator \\u4F18\\u5316\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const iterableObj = {\\n  name: 'ahab',\\n  age: 18,\\n  key: 'value',\\n  * [Symbol.iterator]() {\\n    let index = 0\\n    const keys = Object.keys(this)\\n    while (index < keys.length) yield this[keys[index++]]\\n  },\\n}\\n\\nfor (const value of iterableObj) { console.log(value) }\\n\")), mdx(\"p\", null, \"\\u5176\\u5B9E\\u5BF9\\u8C61\\u672C\\u6765\\u5C31\\u662F\\u65E0\\u5E8F\\u7684\\uFF0C\\u5B8C\\u5168\\u6CA1\\u5FC5\\u8981\\u7528 for-of\\uFF0C\\u5B9E\\u73B0 for-of \\u904D\\u5386\\u53EA\\u662F\\u4E3A\\u4E86\\u5B66\\u4E60\\uFF0C\\u66F4\\u63A8\\u8350\\u7528\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Object.keys()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Object.entries()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"for-in\\uFF08\\u53EF\\u80FD\\u4F1A\\u904D\\u5386\\u5230\\u539F\\u578B\\u94FE\\u4E0A\\uFF0C\\u66F4\\u63A8\\u8350\\u524D\\u4E24\\u4E2A\\uFF09\"))), mdx(\"h2\", {\n    \"id\": \"流程控制\"\n  }, \"\\u6D41\\u7A0B\\u63A7\\u5236\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://es6.ruanyifeng.com/#docs/generator-async\"\n  }), \"Generator \\u51FD\\u6570\\u7684\\u5F02\\u6B65\\u5E94\\u7528\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://es6.ruanyifeng.com/#docs/async\"\n  }), \"async \\u51FD\\u6570\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"/note/javascript-design-patterns-and-development-practices/iterator"}},"staticQueryHashes":["318001574","3787687951","3787687951"]}