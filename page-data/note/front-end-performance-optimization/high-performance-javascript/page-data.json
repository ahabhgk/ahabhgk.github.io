{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx","path":"/note/front-end-performance-optimization/high-performance-javascript","result":{"data":{"page":{"__typename":"MdxPage","title":"高性能 JavaScript","slug":"/note/front-end-performance-optimization/high-performance-javascript","excerpt":"加载与执行 放到 body 底部 脚本解析和执行会阻塞页面渲染 减少脚本(请求)数量 脚本的 defer, async 属性 都是并行下载，不阻塞页面，defer 需等页面加载好后执行，async 是自动执行defer…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"高性能 JavaScript\",\n  \"slug\": \"/note/front-end-performance-optimization/high-performance-javascript\",\n  \"date\": \"2019-06-20T00:00:00.000Z\",\n  \"description\": \"《高性能 JavaScript》读书笔记\",\n  \"tags\": [\"Note\", \"High Performance JavaScript\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"35.833333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABT0lEQVQozz2R2XKDMAxF8/9f1yadaZrCpISAweAFL2TydCpD04eLhEc6V5YPKSVSToQQ8M5jjcEZu53ldZWY2WsyWWK0huQs9n6jPr3jpmmvKzWiQ9s01Jdv6q8L6tpg7oqhaUnaEGdHjpFVGnKK5FmzaNE4MNfSczpiJX/BNmB3a/l8P3E+fdBUNVHP+HEm9aVxInYaX6bXI0H3eC/RDeixRQ93gRTDx24qtziUzyyuBax6hZ/lygWUMo/nk84sVLeea9ejZBUxenKQuFgW7+Q/omVyNRQzvwPLBI0aOH7XvF0qfoynE/BdplUxs+aVJXlcdJI/tp1Zbxllam1H6qbi2lyxzuzA4rIIdJJH0dbhQvxX2Uv+24+LFuMnBtMzCcjJlPVPxfnySa96YSwctobygqJ1lWuK+1ryP71gr5oQAyEtqKlANdqIpnE7L3W/Yp8QyAFt9/oAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"高性能 JavaScript\",\n    \"title\": \"高性能 JavaScript\",\n    \"src\": \"/static/bf32a44416b5e00da42058d7c763f97d/7d769/%E9%AB%98%E6%80%A7%E8%83%BDJavaScript.png\",\n    \"srcSet\": [\"/static/bf32a44416b5e00da42058d7c763f97d/5243c/%E9%AB%98%E6%80%A7%E8%83%BDJavaScript.png 240w\", \"/static/bf32a44416b5e00da42058d7c763f97d/ab158/%E9%AB%98%E6%80%A7%E8%83%BDJavaScript.png 480w\", \"/static/bf32a44416b5e00da42058d7c763f97d/7d769/%E9%AB%98%E6%80%A7%E8%83%BDJavaScript.png 960w\", \"/static/bf32a44416b5e00da42058d7c763f97d/87339/%E9%AB%98%E6%80%A7%E8%83%BDJavaScript.png 1440w\", \"/static/bf32a44416b5e00da42058d7c763f97d/39a40/%E9%AB%98%E6%80%A7%E8%83%BDJavaScript.png 1874w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"加载与执行\"\n  }, \"\\u52A0\\u8F7D\\u4E0E\\u6267\\u884C\"), mdx(\"h3\", {\n    \"id\": \"放到-body-底部\"\n  }, \"\\u653E\\u5230 body \\u5E95\\u90E8\"), mdx(\"p\", null, \"\\u811A\\u672C\\u89E3\\u6790\\u548C\\u6267\\u884C\\u4F1A\\u963B\\u585E\\u9875\\u9762\\u6E32\\u67D3\"), mdx(\"h3\", {\n    \"id\": \"减少脚本请求数量\"\n  }, \"\\u51CF\\u5C11\\u811A\\u672C(\\u8BF7\\u6C42)\\u6570\\u91CF\"), mdx(\"h3\", {\n    \"id\": \"脚本的-defer-async-属性\"\n  }, \"\\u811A\\u672C\\u7684 defer, async \\u5C5E\\u6027\"), mdx(\"p\", null, \"\\u90FD\\u662F\\u5E76\\u884C\\u4E0B\\u8F7D\\uFF0C\\u4E0D\\u963B\\u585E\\u9875\\u9762\\uFF0Cdefer \\u9700\\u7B49\\u9875\\u9762\\u52A0\\u8F7D\\u597D\\u540E\\u6267\\u884C\\uFF0Casync \\u662F\\u81EA\\u52A8\\u6267\\u884Cdefer \\u5C5E\\u6027\\u7684\\u811A\\u672C\\u6807\\u7B7E\\u53EF\\u4EE5\\u653E\\u5230\\u6587\\u6863\\u4EFB\\u4F55\\u4F4D\\u7F6E\"), mdx(\"h3\", {\n    \"id\": \"脚本的懒加载\"\n  }, \"\\u811A\\u672C\\u7684\\u61D2\\u52A0\\u8F7D\"), mdx(\"h2\", {\n    \"id\": \"数据存取\"\n  }, \"\\u6570\\u636E\\u5B58\\u53D6\"), mdx(\"h3\", {\n    \"id\": \"作用域链执行上下文栈\"\n  }, \"\\u4F5C\\u7528\\u57DF\\u94FE(\\u6267\\u884C\\u4E0A\\u4E0B\\u6587\\u6808)\"), mdx(\"h3\", {\n    \"id\": \"原型链\"\n  }, \"\\u539F\\u578B\\u94FE\"), mdx(\"h2\", {\n    \"id\": \"dom-编程\"\n  }, \"DOM \\u7F16\\u7A0B\"), mdx(\"h3\", {\n    \"id\": \"访问和修改-dom-消耗大\"\n  }, \"\\u8BBF\\u95EE\\u548C\\u4FEE\\u6539 DOM \\u6D88\\u8017\\u5927\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5C3D\\u53EF\\u80FD\\u5C11\\u7684\\u8BBF\\u95EE\\u548C\\u4FEE\\u6539 DOM\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"innerHTML = \\u548C +=\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6BCF\\u6B21 += \\u90FD\\u4F1A\\u8BBF\\u95EE\\u4FEE\\u6539 DOM\\uFF0C\\u800C\\u628A\\u8981\\u6539\\u7684\\u5185\\u5BB9\\u8D4B\\u7ED9 html \\u5B57\\u7B26\\u4E32\\u53D8\\u91CF\\uFF0C\\u4E4B\\u540E\\u4E00\\u6B21\\u6027\\u8D4B\\u7ED9 innerHTML \\u53EA\\u4F1A\\u8BBF\\u95EE\\u4FEE\\u6539\\u4E00\\u6B21 DOM\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"HTMLCollection \\u4E0E NodeList\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"HTMLCollection \\u662F\\u52A8\\u6001\\u7684(\\u5B9E\\u65F6\\u6027)\\uFF0C\\u5B9E\\u65F6\\u8BBF\\u95EE DOM\\uFF0C\\u6D88\\u8017\\u5927\\uFF0CNodeList \\u662F\\u9759\\u6001\\u7684\\uFF0C\\u4E0D\\u9700\\u8981\\u5B9E\\u65F6\\u8BBF\\u95EEDOMgetElementBy \\u65B9\\u5F0F\\u8FD4\\u56DE HTMLCollection\\uFF0C\\u67E5\\u627E\\u5FEB\\u4F46\\u4E4B\\u540E\\u64CD\\u4F5C\\u6162\\uFF0CquerySelector \\u65B9\\u5F0F\\u8FD4\\u56DE NodeList\\uFF0C\\u4EE5 CSS \\u9009\\u62E9\\u5668\\u67E5\\u627E\\uFF0C\\u67E5\\u627E\\u6162\\u4F46\\u4E4B\\u540E\\u64CD\\u4F5C\\u5FEB\\uFF0C\\u4E14\\u6570\\u636E\\u662F\\u6709\\u4E0D\\u53D8\\u6027\\u7684\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u8FC7\\u6EE4\\u6CA1\\u7528\\u8282\\u70B9\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"childNodes, firstChild, nextSibling \\u4E0D\\u533A\\u5206\\u5143\\u7D20\\u8282\\u70B9\\u548C\\u5176\\u4ED6\\u8282\\u70B9(\\u6CE8\\u91CA\\u3001\\u6587\\u672C\\u8282\\u70B9)\\uFF0Cchildren \\u53EA\\u5305\\u542B\\u5143\\u7D20\\u8282\\u70B9\"))), mdx(\"h3\", {\n    \"id\": \"回流和重绘\"\n  }, \"\\u56DE\\u6D41\\u548C\\u91CD\\u7ED8\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u9875\\u9762\\u6E32\\u67D3\\u6D41\\u7A0B\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6D4F\\u89C8\\u5668\\u961F\\u5217\\u4FEE\\u6539\\u6279\\u91CF\\u6267\\u884C\\u6765\\u4F18\\u5316\\u56DE\\u6D41\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5F3A\\u5236\\u5237\\u65B0\\u5BF9\\u5217\\u7684\\u65B9\\u6CD5\\uFF1AoffsetTop, offsetLeft, offsetWidth, offsetHeight, scrollTop, scrollLeft, scrollWidth, scrollHeight, clientTop, clientLeft, clientWidth, clientHeight, getComputedStyle()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6700\\u5C0F\\u5316\\u56DE\\u6D41\\u548C\\u91CD\\u7ED8\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"cssText += \\uFF0C\\u4FEE\\u6539 class\\u5185\\u5B58\\u4E2D\\u6279\\u91CF\\u4FEE\\u6539 DOM(1 createDocumentFragment, createElement\\xA0 2 \\u9690\\u85CF\\u5143\\u7D20\\u4FEE\\u6539\\u540E\\u91CD\\u65B0\\u663E\\u793A el.style.display: none\\xA0 3 cloneNode \\u4FEE\\u6539\\u540E\\u66FF\\u6362\\u539F\\u6709\\u5143\\u7D20)\\u7F13\\u5B58\\u5E03\\u5C40\\u4FE1\\u606F(offsetLeft\\u2026\\u2026)\\u5143\\u7D20\\u8131\\u79BB\\u6587\\u6863\\u6D41(position)\"))), mdx(\"h3\", {\n    \"id\": \"事件委托\"\n  }, \"\\u4E8B\\u4EF6\\u59D4\\u6258\"), mdx(\"h2\", {\n    \"id\": \"算法和流程控制\"\n  }, \"\\u7B97\\u6CD5\\u548C\\u6D41\\u7A0B\\u63A7\\u5236\"), mdx(\"h3\", {\n    \"id\": \"for-of-循环数组，for-in-遍历对象\"\n  }, \"for of \\u5FAA\\u73AF\\u6570\\u7EC4\\uFF0Cfor in \\u904D\\u5386\\u5BF9\\u8C61\"), mdx(\"h3\", {\n    \"id\": \"1多个离散判断用-switch-2嵌套-if-3查找表映射\"\n  }, \"1.\\u591A\\u4E2A\\u79BB\\u6563\\u5224\\u65AD\\u7528 switch 2.\\u5D4C\\u5957 if 3.\\u67E5\\u627E\\u8868\\u6620\\u5C04\"), mdx(\"h3\", {\n    \"id\": \"1递归做缓存-2es6-尾递归\"\n  }, \"1.\\u9012\\u5F52\\u505A\\u7F13\\u5B58 2.es6 \\u5C3E\\u9012\\u5F52\"), mdx(\"h2\", {\n    \"id\": \"ui-界面\"\n  }, \"UI \\u754C\\u9762\"), mdx(\"h3\", {\n    \"id\": \"浏览器-ui-线程，事件队列\"\n  }, \"\\u6D4F\\u89C8\\u5668 UI \\u7EBF\\u7A0B\\uFF0C\\u4E8B\\u4EF6\\u961F\\u5217\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5355\\u7EBF\\u7A0B\")), mdx(\"h3\", {\n    \"id\": \"定时器异步执行\"\n  }, \"\\u5B9A\\u65F6\\u5668\\u5F02\\u6B65\\u6267\\u884C\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5982\\u679C\\u65F6\\u95F4\\u961F\\u5217\\u4E2D\\u5DF2\\u7ECF\\u5B58\\u5728\\u7531\\u540C\\u4E00\\u4E2A setInterval \\u521B\\u5EFA\\u7684\\u4EFB\\u52A1\\uFF0C\\u90A3\\u4E48\\u540E\\u7EED\\u4EFB\\u52A1\\u4E0D\\u4F1A\\u88AB\\u6DFB\\u52A0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u9AD8\\u9891\\u7387\\u591A\\u4E2A\\u5B9A\\u65F6\\u5668\\u5F71\\u54CD\\u6027\\u80FD(\\u6700\\u597D\\u95F4\\u96941\\u79D2\\u4EE5\\u4E0A)\")), mdx(\"h3\", {\n    \"id\": \"web-worker\"\n  }, \"Web Worker\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5904\\u7406\\u5927\\u91CF\\u6570\\u636E\\uFF0C\\u590D\\u6742\\u6570\\u5B66\\u8FD0\\u7B97(\\u56FE\\u50CF\\u3001\\u89C6\\u9891)\\uFF0C\\u5904\\u7406\\u6570\\u7EC4\\u2026\\u2026\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Worker \\u5BF9\\u8C61\\uFF0Conmessage \\u63A5\\u53D7\\u4FE1\\u606F\\uFF0CpostMessage \\u4F20\\u9012\\u6570\\u636E\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"/note/front-end-performance-optimization/high-performance-javascript"}},"staticQueryHashes":["318001574","3787687951","3787687951"]}