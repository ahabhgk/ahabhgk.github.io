{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/blog/fetching_in_deno","result":{"data":{"post":{"__typename":"MdxPost","slug":"/blog/fetching_in_deno","title":"Fetching in Deno","date":"01.10.2021","tags":[{"name":"Deno","slug":"deno"}],"description":"Fetching in Deno","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Fetching in Deno\",\n  \"slug\": \"/blog/fetching_in_deno\",\n  \"date\": \"2021-10-01T00:00:00.000Z\",\n  \"description\": \"Fetching in Deno\",\n  \"tags\": [\"Deno\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u6700\\u8FD1\\u5728\\u5B66\\u4E60 Rust\\uFF0C\\u521A\\u770B\\u5B8C\\u5F02\\u6B65\\uFF0C\\u60F3\\u81EA\\u5DF1\\u4ECE\\u96F6\\u5199\\u70B9\\u5173\\u4E8E Rust \\u5F02\\u6B65\\u7684\\u7B80\\u5355\\u9879\\u76EE\\u6765\\u7EC3\\u7EC3\\u624B\\uFF0C\\u6700\\u597D\\u8FD8\\u548C\\u524D\\u7AEF\\u6709\\u5173\\uFF0C\\u4F46\\u662F\\u6211\\u5E76\\u6CA1\\u6709\\u60F3\\u5230\\u4EC0\\u4E48\\u5408\\u9002\\u7684\\u9879\\u76EE\\uFF0Cbuild your own x \\u4E0A\\u4E5F\\u6CA1\\u627E\\u5230\\uFF0C\\u6240\\u4EE5\\u6211\\u51B3\\u5B9A\\u770B\\u4E00\\u770B Deno\\uFF0C\\u6700\\u597D\\u8FD8\\u80FD\\u6C34\\u4E2A contribute \\uD83D\\uDE09\"), mdx(\"h2\", {\n    \"id\": \"birds-eye-view-of-deno\"\n  }, \"Bird's eye view of Deno\"), mdx(\"p\", null, \"Deno \\u4E3B\\u8981\\u5206\\u4E3A\\u4E09\\u4E2A\\u90E8\\u5206\\uFF1A\"), mdx(\"p\", null, \"\\u7B2C\\u4E00\\u90E8\\u5206\\u662F cli\\uFF0C\\u5B83\\u5305\\u62EC\\u6240\\u6709\\u7528\\u6237\\u4F7F\\u7528\\u7684 API\\uFF0C\\u50CF fmt\\u3001repl\\u3001run\\u3001compile\\u3001doc \\u7B49\\u3002\\u4E00\\u90E8\\u5206\\u529F\\u80FD\\u662F\\u8C03\\u7528\\u7684\\u5176\\u4ED6\\u9879\\u76EE\\u5B9E\\u73B0\\u7684\\uFF0Ccli \\u8FD9\\u91CC\\u96C6\\u6210\\u5230 deno \\u4E2D\\uFF0C\\u6BD4\\u5982 fmt \\u5E95\\u5C42\\u4F7F\\u7528\\u7684 dprint\\u3001typescript \\u4F7F\\u7528\\u4E86\\u5B98\\u65B9\\u7684\\u4E00\\u4EFD fock \\u5B9E\\u73B0\\u4E86 transpile with type checking\\uFF0C\\u53EA transpile \\u7684\\u8BDD\\u4F7F\\u7528\\u4E86 swc\\u3002JS \\u6267\\u884C\\u73AF\\u5883\\u76F8\\u5173\\u7684 cli \\u76F8\\u5F53\\u4E8E\\u662F\\u4E00\\u4E2A\\u5165\\u53E3\\uFF0C\\u7528\\u6765\\u5BF9\\u6A21\\u5757\\u3001runtime \\u8FDB\\u884C\\u521D\\u59CB\\u5316\\u3002\\u9664\\u6B64\\u4E4B\\u5916\\u5927\\u90E8\\u5206\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\u3001\\u96C6\\u6210\\u6D4B\\u8BD5\\u3001benchmark \\u6D4B\\u8BD5\\u4E5F\\u653E\\u5728\\u8FD9\\u91CC\\u3002\"), mdx(\"p\", null, \"\\u7B2C\\u4E8C\\u90E8\\u5206\\u662F core\\uFF0C\\u4E3B\\u8981\\u4F9D\\u8D56\\u4E86 rusty_v8\\u3002rusty_v8 \\u662F\\u4F7F\\u7528 Rust \\u5BF9 v8 \\u5F15\\u64CE\\u505A\\u7684\\u4E00\\u5C42 binding\\uFF0C\\u57FA\\u672C\\u5C31\\u662F\\u76F4\\u63A5\\u8C03\\u7528 v8 \\u7684 API\\uFF0C\\u5E76\\u6CA1\\u6709\\u8FC7\\u591A\\u7684\\u5C01\\u88C5\\uFF0C\\u63D0\\u4F9B\\u597D\\u7528\\u7684\\u5C01\\u88C5\\u5219\\u662F\\u5728 core \\u8FD9\\u91CC\\u505A\\u7684\\uFF1B\\u7136\\u540E\\u8457\\u540D\\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E5F\\u662F core \\u8FD9\\u91CC\\u5B9E\\u73B0\\u7684\\uFF0C\\u4F46\\u5E76\\u6CA1\\u6709\\u5B8C\\u5168\\u5B9E\\u73B0\\uFF0C\\u719F\\u6089 Rust Async \\u7684\\u540C\\u5B66\\u5E94\\u8BE5\\u77E5\\u9053 Rust \\u4E2D\\u7684\\u5F02\\u6B65 API \\u5B9E\\u73B0\\u5206\\u4E3A\\u4E24\\u90E8\\u5206\\uFF1A\\u4E00\\u90E8\\u5206\\u662F\\u5B9E\\u73B0 Future trait \\u7684 poll \\u65B9\\u6CD5\\uFF0C\\u53E6\\u4E00\\u90E8\\u5206\\u662F\\u5B9E\\u73B0 executor\\uFF0Ccore \\u8FD9\\u91CC\\u76F8\\u5F53\\u4E8E\\u53EA\\u5B9E\\u73B0\\u4E86 poll \\u65B9\\u6CD5\\uFF0Cexecutor \\u53EF\\u4EE5\\u4F7F\\u7528 tokio\\u3001smol \\u7B49\\u5E93\\uFF0Ccore \\u8FD9\\u91CC\\u5E76\\u6CA1\\u6709\\u76F4\\u63A5\\u4F9D\\u8D56 tokio\\uFF0C\\u4F46\\u5176\\u4ED6\\u8C03\\u7528 core \\u7684\\u5730\\u65B9\\u90FD\\u662F\\u7528\\u7684 tokio \\u4F5C\\u4E3A executor \\u7684\\uFF1B\\u6700\\u540E core \\u5B9E\\u73B0\\u4E86 Rust \\u4FA7\\u548C JS \\u4FA7\\u901A\\u4FE1\\u7684\\u65B9\\u6CD5\\uFF1Aops\\uFF0CRust \\u8FD9\\u91CC\\u5C06 JS \\u8981\\u7528\\u7684 ops \\u6CE8\\u518C\\u4E0A\\uFF0CJS \\u5C31\\u53EF\\u4EE5\\u901A\\u8FC7 opSync \\u8FDB\\u884C\\u540C\\u6B65\\u8C03\\u7528\\u6216 opAsync \\u8FDB\\u884C\\u5F02\\u6B65\\u8C03\\u7528\\uFF0C\\u4F20\\u9012\\u7684\\u6570\\u636E\\u901A\\u8FC7 serde_v8 \\u8FDB\\u884C\\u5E8F\\u5217\\u5316\\u4E0E\\u53CD\\u5E8F\\u5217\\u5316\\uFF0C\\u53EF\\u4EE5\\u7406\\u89E3\\u4E3A\\u662F\\u4E00\\u79CD RPC\\u3002\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACiklEQVQoz2WS247TMBRF84v8B5/BG6KgPiHERyAECNAEqUBFJ03TXJu741yba9NphynjSbtxK+CFIy0tWd46PrYsyLL8aKmqLxVFeSpJ0sj3/VHTNKOyLP+RpskoIMEo5AShP4riaBSn9B80iZ5lefaCZ58IlNLX4LW7ucHtfo/7X7+A0wmn4xF/q7utYRc63LUJO9eR7gmahwI1yzkFyvsUB9xi0/UnIZSk5/m1BPL1610tL9iNbrBeVdmGU1DK1uuK0TJkdqUzpzL+w61MvqfdxxXBpt1UQibNx1g52M0kVk2+YfX2Haw3b+G+/wB9PoemG5CNaxiFAq+1YNcGnAs6+CEXrEo9Zm18btgJiSyNmW2gVyRGJyJ88RPy6QTZ9wnWNELbtqBJiDB3EWQOosKDG1sghY+4iZDwRnEbHdtdi03fdwJVf4wfcgWHeMaa1Rfsgu9ArYIlMlIaw6E5gmQN1fIxlVT48Rq0aNE0HXKSIDK9M8fMi7COkk4ojOvxqafIQ4tRe4mCWNjVfHxqwuThjzMXV9cOrqSzXUzNHDO7RNn28BUDiy9TuHPtSJYrpJrbCZk2HbNtibSomLVaIQgIah6uswiu7mApJ9BkiuWCQlvEWMwjKBJByKcjlgPf9dCU1XHTdkicgL/h8tsL3HVoNtvDbDYb+L8cvIAMXREPnuENll4OlpoPhpYPK319sW2UPBMNxHQGW7cGVVZYRhPeMKyFVJ2+wmmP/XaDn3174bDf4tCmKKICYbAH8bfcW0Thjt9gC8J9e8fQ5yVCx0PA6ZvzhOG9QHT1cWFp88xQP3OLZ3JTvUACKjpBJrpByp1yZ3/WmZgXpZiFVEyCSMxILMY+mfim/eY3AUcE0CEtwZcAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"现在 libdeno 可以改成 rusty_v8 了\",\n    \"title\": \"现在 libdeno 可以改成 rusty_v8 了\",\n    \"src\": \"/static/aa6bc45e16f2adcf3a5a28ccf4466e41/7842b/schematic_v0.2.png\",\n    \"srcSet\": [\"/static/aa6bc45e16f2adcf3a5a28ccf4466e41/5243c/schematic_v0.2.png 240w\", \"/static/aa6bc45e16f2adcf3a5a28ccf4466e41/ab158/schematic_v0.2.png 480w\", \"/static/aa6bc45e16f2adcf3a5a28ccf4466e41/7842b/schematic_v0.2.png 800w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"\\u7B2C\\u4E09\\u90E8\\u5206\\u662F runtime\\uFF0C\\u8FD9\\u91CC\\u4F9D\\u8D56 core \\u5B9E\\u73B0 Deno \\u7684 JS \\u6267\\u884C\\u73AF\\u5883\\u548C\\u6240\\u6709\\u6709\\u5173\\u64CD\\u4F5C\\u7CFB\\u7EDF\\u7684 ops \\u548C JS \\u5C01\\u88C5\\uFF0C\\u6BD4\\u5982 os\\u3001fs\\u3001http\\u3001process \\u7B49\\uFF0C\\u5176\\u4ED6\\u7684 ops \\u6BD4\\u5982 fetch\\u3001timers\\u3001net\\u3001webgpu \\u7B49\\u5219\\u5355\\u72EC\\u653E\\u5230\\u4E86 ext \\u4E2D\\uFF0CRust \\u4EE3\\u7801\\u5728 cli \\u4E2D\\u8FDB\\u884C\\u6CE8\\u518C\\uFF0C\\u901A\\u8FC7 JS \\u8FDB\\u884C\\u8C03\\u7528\\u3002\"), mdx(\"h2\", {\n    \"id\": \"fetch\"\n  }, \"fetch\"), mdx(\"p\", null, \"Deno \\u4E2D\\u7684\\u5F88\\u591A API \\u4F1A\\u6839\\u636E web \\u7684\\u6807\\u51C6\\u8FDB\\u884C\\u5B9E\\u73B0\\uFF0C\\u6240\\u4EE5\\u4F60\\u7684\\u6709\\u4E9B\\u4EE3\\u7801\\u5373\\u53EF\\u4EE5\\u8DD1\\u5728 Deno \\u4E0A\\u4E5F\\u53EF\\u4EE5\\u8DD1\\u5728\\u6D4F\\u89C8\\u5668\\u4E0A\\uFF0C\\u5F53\\u7136\\u8FD9\\u53EA\\u662F\\u7F8E\\u597D\\u7684\\u613F\\u666F\\uFF0Cweb \\u6807\\u51C6\\u5E76\\u4E0D\\u662F\\u90A3\\u4E48\\u597D\\u5B9E\\u73B0\\u7684\\uFF0CGithub \\u4E0A\\u6709\\u4E13\\u95E8\\u7684 web platform tests\\uFF0C\\u7B80\\u79F0 wpt\\uFF0C\\u7528\\u6765\\u6D4B\\u8BD5\\u662F\\u5426\\u7B26\\u5408\\u89C4\\u8303\\uFF0CDeno \\u4E5F\\u53EA\\u901A\\u8FC7\\u4E86\\u90E8\\u5206\\u6D4B\\u8BD5\\uFF0CRust \\u7F16\\u5199\\u7684\\u6D4F\\u89C8\\u5668\\u5F15\\u64CE Servo \\u7684 wpt \\u7684 TODO \\u53EA\\u5B8C\\u6210\\u4E09\\u5206\\u4E4B\\u4E00\\u3002\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"22.916666666666668%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVQY0x2Q61KDMBCFeRFpLaWUXIFwCYSSOr1YW+1U/aHj+7/HccmPM8nst3v2EjHdIlcNtrLG/M+EgSwteNGBUTzRChtpkGQazxuJVabCu0xFkK4HOH9CbSeUjUOU64YAxyJhWKx50JIK1nmBmWWiwtNqi5h4TCxOOJlqMGqYUE68FlikkiSCovLwB+V/oHaf0P4bsr9gS5NtyKj0XyiIFRRX4x3cTNSkQ8ZKGHeFsDfI9gzdHSHqI7imCXfXB/ztTglHqHYP3XqIqkfKDfzrHqePF2LnwFQ9QhqHlBnYvcfbYwd3vaB6/4U8T1CnAVHnO4yHHrKZaI35dpZu2QXDyo4w/RDWm8XLPihlFYrWoXGO6gbk1Ig1FqLt8Q8xLZ8cKc9dyAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Servo wpt\",\n    \"title\": \"Servo wpt\",\n    \"src\": \"/static/62836d6ce9123e4a61c2ec382990f08f/7d769/servo_wpt.png\",\n    \"srcSet\": [\"/static/62836d6ce9123e4a61c2ec382990f08f/5243c/servo_wpt.png 240w\", \"/static/62836d6ce9123e4a61c2ec382990f08f/ab158/servo_wpt.png 480w\", \"/static/62836d6ce9123e4a61c2ec382990f08f/7d769/servo_wpt.png 960w\", \"/static/62836d6ce9123e4a61c2ec382990f08f/87339/servo_wpt.png 1440w\", \"/static/62836d6ce9123e4a61c2ec382990f08f/88b03/servo_wpt.png 1920w\", \"/static/62836d6ce9123e4a61c2ec382990f08f/8e621/servo_wpt.png 2234w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"\\u540C\\u6837 Deno \\u5B9E\\u73B0\\u7684\\u6709\\u4E9B API \\u7EC6\\u8282\\u4E0A\\u4E5F\\u6709\\u4E9B\\u4E0D\\u7B26\\u6807\\u51C6\\u7684\\uFF0C\\u6BD4\\u5982 fetch \\u4E2D\\u5BF9\\u4E8E http header value \\u7684\\u5B9E\\u73B0\\uFF0C\\u6211\\u7684 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/denoland/deno/pull/12244\"\n  }), \"PR\"), \" \\u4E5F\\u662F\\u8FD9\\u6837\\u6765\\u7684\\u3002\"), mdx(\"p\", null, \"\\u5148\\u770B\\u4E00\\u4E0B \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/denoland/deno/issues/12236\"\n  }), \"issue\"), \"\\uFF0C\\u7B80\\u5355\\u6765\\u8BF4\\u5C31\\u662F Rust \\u4FA7\\u5BF9 header value \\u8FDB\\u884C\\u89E3\\u6790\\u65F6\\u67D0\\u4E9B value \\u4F1A\\u5BFC\\u81F4 panic\\uFF0C\\u8FD9\\u4E2A panic \\u4F1A\\u5BFC\\u81F4\\u6574\\u4E2A Deno \\u7684 JsRuntime \\u6302\\u6389\\uFF0C\\u8FD8\\u662F\\u633A\\u4E25\\u91CD\\u7684\\uFF0C\\u8BD5\\u60F3\\u4E0B\\u4F60\\u7684 server \\u672C\\u6765\\u8FD0\\u884C\\u7684\\u597D\\u597D\\u7684\\uFF0C\\u7ED3\\u679C\\u53D1\\u4E86\\u67D0\\u4E2A fetch \\u8BF7\\u6C42\\uFF0C\\u7136\\u540E\\u4F60\\u7684 server \\u5C31\\u6302\\u4E86\\u2026\\u2026\"), mdx(\"p\", null, \"\\u5148\\u770B\\u4E00\\u4E0B \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fetch.spec.whatwg.org/#concept-header-value\"\n  }), \"fetch \\u89C4\\u8303\\u4E2D\\u5BF9\\u4E8E\\u5408\\u6CD5\\u7684 header value \\u7684\\u63CF\\u8FF0\"), \"\\uFF1A\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"A value is a byte sequence that matches the following conditions:\"), mdx(\"ul\", {\n    parentName: \"blockquote\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Has no leading or trailing HTTP tab or space bytes.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Contains no 0x00 (NUL) or HTTP newline bytes.\"))), mdx(\"p\", null, \"\\u5927\\u610F\\u5C31\\u662F\\u4F60\\u7684 header value \\u5F00\\u5934\\u7ED3\\u5C3E\\u6CA1\\u6709\\u7A7A\\u683C\\uFF0C\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://infra.spec.whatwg.org/#byte-sequence\"\n  }), \"\\u8303\\u56F4\\u5728 0x20 (SP) \\u5230 0x7E (~) \\u4E4B\\u95F4\"), \"\\u5E76\\u4E14\\u4E0D\\u5305\\u542B 0x00\\u30010x0A\\u30010x0D \\u8FD9\\u4E09\\u4E2A charCode \\u5BF9\\u5E94\\u7684\\u5B57\\u7B26\\u5C31\\u662F\\u5408\\u6CD5\\u7684\\uFF0C\\u800C\\u4E14\\u5728\\u4F60\\u6DFB\\u52A0 headers \\u65F6\\uFF0C\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fetch.spec.whatwg.org/#concept-headers-append\"\n  }), \"\\u6839\\u636E append header \\u7684\\u89C4\\u8303\"), \"\\u4F1A\\u5BF9 header value \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fetch.spec.whatwg.org/#concept-header-value-normalize\"\n  }), \"\\u8FDB\\u884C normalize\"), \"\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const headers = new Headers()\\nheaders.append(\\\"val1\\\", \\\" hah\\\")\\nheaders.append(\\\"val2\\\", \\\"hah \\\")\\nfetch(\\\"xxx\\\", {\\n  headers: { val: \\\" hha \\\" },\\n})\\n\")), mdx(\"p\", null, \"\\u8FD9\\u6837 header value \\u5373\\u4F7F\\u524D\\u540E\\u6709\\u7A7A\\u683C\\u4E5F\\u90FD\\u4F1A\\u7ED9\\u4F60\\u901A\\u8FC7 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"normalize\"), \" \\u53BB\\u5934\\u53BB\\u5C3E\\u53D8\\u6210\\u5408\\u6CD5\\u7684 header value\\uFF0C\\u90A3\\u4E48\\u95EE\\u9898\\u7684\\u539F\\u56E0\\u5C31\\u9501\\u5B9A\\u5728\\u7B2C\\u4E8C\\u6761\\u89C4\\u5219\\uFF0C\\u4E0D\\u80FD\\u5305\\u542B\\u975E\\u6CD5\\u5B57\\u7B26\\u3002\"), mdx(\"h2\", {\n    \"id\": \"hyperiumhttp\"\n  }, \"hyperium/http\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/hyperium/http\"\n  }), \"hyperium/http\"), \" \\u662F Deno \\u4E2D fetch \\u4E0B\\u5C42 Rust \\u5B9E\\u73B0\\u7684 ops \\u6240\\u4F9D\\u8D56\\u7684 http \\u5E93\\uFF0Cheader value \\u4F1A\\u901A\\u8FC7\\u8FD9\\u4E2A\\u5E93\\u4E2D\\u7684\\u65B9\\u6CD5\\u6765\\u8FDB\\u884C\\u89E3\\u6790\\uFF0CJS \\u4FA7\\u4F1A\\u6839\\u636E fetch \\u89C4\\u8303\\u5BF9 header value \\u8FDB\\u884C\\u68C0\\u6D4B\\uFF0C\\u4E0D\\u7B26\\u5408\\u89C4\\u8303\\u7684 header value \\u4F1A throw error \\u963B\\u6B62\\u4F20\\u7ED9 Rust \\u4FA7\\u6765\\u53D1\\u8BF7\\u6C42\\u3002\"), mdx(\"p\", null, \"\\u800C panic \\u6B63\\u662F\\u56E0\\u4E3A\\u8FD9\\u4E2A\\u5E93\\u89E3\\u6790 header value \\u540E unwrap \\u5BFC\\u81F4\\u7684\\uFF0C\\u53EF\\u9884\\u671F\\u662F JS \\u4FA7\\u4E0D\\u4F1A\\u628A\\u4E0D\\u5408\\u6CD5\\u7684 header value \\u4F20\\u8FDB\\u6765\\uFF0C\\u6240\\u4EE5\\u8FD9\\u91CC unwrap \\u5E94\\u8BE5\\u662F\\u5B89\\u5168\\u7684\\u3002\"), mdx(\"p\", null, \"\\u4F46\\u662F\\u7FFB\\u5F00 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.rs/http/0.2.5/http/header/struct.HeaderValue.html#method.from_bytes\"\n  }), \"hyperium/http \\u7684\\u6587\\u6863\"), \" \\u53D1\\u73B0\\uFF1A\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If the argument contains invalid header value bytes, an error is returned. Only byte values between 32 and 255 (inclusive) are permitted, excluding byte 127 (DEL).\")), mdx(\"p\", null, \"\\u4E5F\\u5C31\\u662F\\u8BF4 charCode \\u5728 32 \\u5230 255 \\u4E4B\\u95F4\\uFF0C\\u9664\\u4E86 127 \\u90FD\\u662F\\u5408\\u6CD5\\u7684\\uFF0C\\u8FD9\\u5C31\\u5BFC\\u81F4\\u6709\\u4E9B\\u5B57\\u7B26\\u867D\\u7136\\u7B26\\u5408 fetch \\u89C4\\u8303\\u4F46\\u662F\\u5374\\u4E0D\\u7B26\\u5408 hyperium/http \\u89E3\\u6790 header value \\u7684\\u8981\\u6C42\\uFF0C\\u5BFC\\u81F4\\u540E\\u9762 unwrap \\u9020\\u6210\\u4E86 panic\\u3002\"), mdx(\"p\", null, \"\\u6211\\u4E5F\\u5728\\u8FD9\\u4E2A\\u5E93\\u4E2D\\u4E5F\\u53D1\\u73B0\\u4E86\\u76F8\\u5173\\u7684 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/hyperium/http/issues/376\"\n  }), \"issue\"), \"\\uFF0C\\u539F\\u6765 Servo \\u4E5F\\u662F\\u7528\\u7684\\u8FD9\\u4E2A\\u5E93\\u4E5F\\u6709\\u540C\\u6837\\u7684\\u95EE\\u9898\\uFF0C\\u54C8\\u54C8\\u3002\\u8FD9\\u4E2A\\u5E93\\u867D\\u7136\\u5751\\u4E86 Deno \\u548C Servo\\uFF0C\\u4F46\\u662F\\u8FD9\\u4E2A\\u5E93\\u7684\\u5B9E\\u73B0\\u5E76\\u6CA1\\u6709\\u9519\\uFF0C\\u56E0\\u4E3A\\u5B83\\u89E3\\u6790\\u89C4\\u5219\\u662F\\u6309\\u7167 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2\"\n  }), \"http rfc7230\"), \" \\u6765\\u5B9E\\u73B0\\u7684\\uFF0C\\u800C fetch \\u7684 header value \\u662F\\u6309\\u7167 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://datatracker.ietf.org/doc/html/rfc2616#section-4.2\"\n  }), \"http rfc2616\"), \" \\u6765\\u5B9A\\u4E49\\u7684\\uFF0C\\u800C rfc2616 \\u4E5F\\u5DF2\\u7ECF\\u88AB rfc7230 \\u5E9F\\u5F03\\u4E86\\uFF0C\\u6240\\u4EE5\\u662F\\u56E0\\u4E3A\\u89C4\\u8303\\u7684\\u5DEE\\u5F02\\u5BFC\\u81F4\\u7684\\u5751\\u2026\\u2026\"), mdx(\"p\", null, \"\\u6211\\u4E5F\\u5728\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.zhihu.com/question/489428152\"\n  }), \"\\u77E5\\u4E4E\\u4E0A\\u63D0\\u4E86\\u4E00\\u4E2A\\u95EE\\u9898\"), \"\\uFF0C\\u60F3\\u4E86\\u89E3\\u66F4\\u6DF1\\u7684\\u539F\\u56E0\\uFF08\\u4E24\\u4E2A RFC \\u6709\\u5DEE\\u5F02\\u7684\\u539F\\u56E0\\uFF0C\\u4E3A\\u5565 fetch \\u89C4\\u8303\\u4E0D\\u66F4\\u65B0\\uFF09\\uFF0C\\u6709\\u5174\\u8DA3\\u7684\\u5927\\u4F6C\\u53EF\\u4EE5\\u7B54\\u4E00\\u4E0B\\uFF5E\"), mdx(\"p\", null, \"\\u6700\\u540E\\u6211\\u4FEE\\u4E86\\u8FD9\\u4E2A issue \\u5E76\\u63D0\\u4EA4\\u4E86\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/denoland/deno/pull/12244\"\n  }), \"\\u6211\\u7ED9 Deno \\u7684\\u7B2C\\u4E00\\u4E2A PR\"), \"\\uFF0CPR \\u7684\\u5185\\u5BB9\\u5F88\\u7B80\\u5355\\uFF0C\\u5C31\\u662F\\u53BB\\u6389 unwrap \\u6539\\u4E3A\\u8FD4\\u56DE\\u8FD9\\u4E2A Err\\uFF0C\\u8FD9\\u6837 ops \\u4E2D\\u8FD4\\u56DE\\u7684 Err \\u4E5F\\u4F1A\\u5E8F\\u5217\\u5316\\u4F20\\u7ED9 JS \\u4FA7\\uFF0CJS \\u4FA7\\u5219\\u4F1A throw error \\u51FA\\u6765\\uFF0C\\u8FD9\\u6837\\u7528\\u6237\\u5C31\\u53EF\\u4EE5 catch \\u5230\\u8FD9\\u4E2A error \\u800C\\u4E0D\\u81F3\\u4E8E\\u65E0\\u6CD5\\u5904\\u7406 panic \\u800C\\u5BFC\\u81F4\\u6574\\u4E2A runtime \\u6302\\u6389\\u3002\\u540E\\u7EED\\u518D\\u8865\\u5145\\u4E24\\u4E2A\\u6D4B\\u8BD5\\uFF0C\\u66F4\\u65B0\\u4E0B wpt \\u7684\\u6D4B\\u8BD5\\u7ED3\\u679C\\u5C31\\u6210\\u529F\\u88AB Merge \\u4E86\\u3002\"), mdx(\"h2\", {\n    \"id\": \"后记\"\n  }, \"\\u540E\\u8BB0\"), mdx(\"p\", null, \"\\u4FEE issue \\u7684\\u8FD9\\u51E0\\u5929\\u867D\\u7136\\u4E00\\u884C Rust \\u5F02\\u6B65\\u7684\\u4EE3\\u7801\\u90FD\\u8FD8\\u6CA1\\u5199\\uFF0C\\u4F46\\u662F\\u8BA9\\u6211\\u4F53\\u4F1A\\u5230\\u4E86 Deno \\u7684\\u4F18\\u826F\\u7684\\u5DE5\\u4F5C\\u6D41\\uFF0C\\u5BF9\\u6D4B\\u8BD5\\u7684\\u91CD\\u89C6\\uFF0C\\u540C\\u65F6\\u5728 Discord \\u770B\\u5927\\u4F6C\\u804A\\u5929\\u4E5F\\u80FD\\u5B66\\u5230\\u5F88\\u591A\\uFF0C\\u8FD8\\u6709 v8 snapshot \\u7684\\u5E94\\u7528\\uFF08deno compile\\uFF09\\uFF0C\\u5982\\u4F55\\u5B9E\\u73B0\\u4E00\\u4E2A JS \\u8FD0\\u884C\\u73AF\\u5883\\uFF0C\\u751A\\u81F3\\u4E00\\u7AA5\\u672A\\u6765\\u7684\\u524D\\u7AEF toolchain\\u3002\\u5F88\\u591A\\u90FD\\u662F\\u6211\\u5728\\u63A5\\u89E6 Rust \\u540E\\u624D\\u6709\\u673A\\u4F1A\\u5B66\\u5230\\u7684\\uFF0C\\u5F88\\u559C\\u6B22 doodlewind \\u7684\\u4E00\\u53E5\\u8BDD\\uFF1A\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u53EA\\u8981\\u5C11\\u91CF\\u7684 C / C++ \\u914D\\u5408\\u73B0\\u4EE3\\u7684 JavaScript\\uFF0C\\u5C31\\u80FD\\u4F7F\\u4F20\\u7EDF\\u7684 Web \\u6280\\u672F\\u6808\\u8D70\\u51FA\\u6D4F\\u89C8\\u5668\")), mdx(\"p\", null, \"\\u540C\\u6837\\u7684\\uFF0C\\u53EA\\u8981\\u5C11\\u91CF\\u7684\\u5E95\\u5C42\\u77E5\\u8BC6\\u914D\\u5408\\u524D\\u7AEF\\u6280\\u672F\\u6808\\uFF0C\\u5C31\\u80FD\\u4F7F\\u81EA\\u5DF1\\u8D70\\u51FA\\u6D4F\\u89C8\\u5668\\uFF0C\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u540C\\u6837\\u4E5F\\u662F\\u5DE5\\u7A0B\\u5E08\\uFF0C\\u4E0D\\u80FD\\u53EA\\u5C40\\u9650\\u4E8E\\u524D\\u7AEF\\uFF0C\\u524D\\u7AEF\\u662F\\u8D77\\u70B9\\uFF0C\\u4F46\\u4E0D\\u80FD\\u662F\\u7EC8\\u70B9\\u3002\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"最近在学习 Rust，刚看完异步，想自己从零写点关于 Rust 异步的简单项目来练练手，最好还和前端有关，但是我并没有想到什么合适的项目，build your own x 上也没找到，所以我决定看一看 Deno，最好还能水个 contribute 😉 Bird's eye…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/blog/fetching_in_deno","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["318001574","3787687951","3787687951"]}